<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Plot time series values in conventional calendar format — sensor_calendarPlot • AirSensor</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/lumen/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Plot time series values in conventional calendar format — sensor_calendarPlot" />
<meta property="og:description" content="Function for plotting PM2.5 concentration in a calendar format. 
This function wraps the openair calendarPlot() function." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">AirSensor</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.8</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/AirSensor_Function_Overview.html">AirSensor Function Overview</a>
    </li>
    <li>
      <a href="../articles/Developer_Style_Guide.html">Developer Style Guide</a>
    </li>
    <li>
      <a href="../articles/articles/Australia_on_fire.html">Australia on Fire</a>
    </li>
    <li>
      <a href="../articles/articles/Custom_QC_Algorithms.html">Custom QC Algorithms</a>
    </li>
    <li>
      <a href="../articles/articles/DataFlowChart.html">Processing PurpleAir Data</a>
    </li>
    <li>
      <a href="../articles/articles/SoH_functions.html">SoH Functions</a>
    </li>
    <li>
      <a href="../articles/articles/Temporal_Aggregation.html">Temporally Aggregated Time Series</a>
    </li>
    <li>
      <a href="../articles/articles/outlier_detection.html">Outlier Detection with the Hampel Filter</a>
    </li>
    <li>
      <a href="../articles/articles/pas_introduction.html">PurpleAir Synoptic Data</a>
    </li>
    <li>
      <a href="../articles/articles/pat_introduction.html">PurpleAir Time Series Data</a>
    </li>
    <li>
      <a href="../articles/articles/purpleair_failure_modes.html">PurpleAir Failure Modes</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/MazamaScience/AirSensor/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Plot time series values in conventional calendar format</h1>
    <small class="dont-index">Source: <a href='https://github.com/MazamaScience/AirSensor/blob/master/R/sensor_calendarPlot.R'><code>R/sensor_calendarPlot.R</code></a></small>
    <div class="hidden name"><code>sensor_calendarPlot.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Function for plotting PM2.5 concentration in a calendar format. 
This function wraps the <span class="pkg">openair</span> <code>calendarPlot()</code> function.</p>
    </div>

    <pre class="usage"><span class='fu'>sensor_calendarPlot</span><span class='op'>(</span>
  sensor <span class='op'>=</span> <span class='cn'>NULL</span>,
  colors <span class='op'>=</span> <span class='cn'>NULL</span>,
  breaks <span class='op'>=</span> <span class='cn'>NULL</span>,
  labels <span class='op'>=</span> <span class='cn'>NULL</span>,
  limits <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>100</span><span class='op'>)</span>,
  title <span class='op'>=</span> <span class='cn'>NULL</span>,
  data.thresh <span class='op'>=</span> <span class='fl'>50</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>sensor</th>
      <td><p>An 'airsensor' object</p></td>
    </tr>
    <tr>
      <th>colors</th>
      <td><p>Colours to be used for plotting. Options include "aqi", "scaqmd", “default”, 
“increment”, “heat”, “jet” and <span class="pkg">RColorBrewer</span> colours — see the <span class="pkg">openair</span>
<code>openColours</code> function for more details. For user defined the user can 
supply a list of colour names recognised by R (type <code><a href='https://rdrr.io/r/grDevices/colors.html'>colours()</a></code> to see 
the full list). An example would be cols = <code><a href='https://rdrr.io/r/base/c.html'>c("yellow", "green", "blue")</a></code></p></td>
    </tr>
    <tr>
      <th>breaks</th>
      <td><p>If a categorical scale is required then these breaks will be 
used. For example, <code>breaks = c(0, 50, 100, 1000)</code>. In this case “good” 
corresponds to values berween 0 and 50 and so on. Users should set the 
maximum value of breaks to exceed the maximum data value to ensure it is 
within the maximum final range e.g. 100–1000 in this case.</p></td>
    </tr>
    <tr>
      <th>labels</th>
      <td><p>If a categorical scale is required then these labels will be 
used. Note there is one less label than break. For example, 
<code>labels = c("good", "bad", "very bad")</code>. breaks must also be supplied if 
labels are given.</p></td>
    </tr>
    <tr>
      <th>limits</th>
      <td><p>Use this option to manually set the colour scale limits. This 
is useful in the case when there is a need for two or more plots and a 
consistent scale is needed on each. Set the limits to cover the maximimum 
range of the data for all plots of interest. For example, if one plot had 
data covering 0–60 and another 0–100, then set <code>limits = c(0, 100)</code>. 
Note that data will be ignored if outside the limits range.</p></td>
    </tr>
    <tr>
      <th>title</th>
      <td><p>Optional title. If <code>NULL</code>, a default title will be constructed.</p></td>
    </tr>
    <tr>
      <th>data.thresh</th>
      <td><p>Data capture threshold passed to <code><a href='https://davidcarslaw.github.io/openair/reference/timeAverage.html'>openair::timeAverage()</a></code>. 
For example, <code>data.thresh = 75</code> means that at least 75<!-- % of the data must  -->
be available in a day for the value to be calculate, else the data is removed.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A plot and an object of class "openair".</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Data are trimmed to the local-time year or month boundaries as appropriate.</p>
<p>Two special options are provided to specify a set of <code>colors</code>, 
<code>breaks</code> and <code>labels</code>.</p>
<p>Using <code>colors = "aqi"</code> will use US EPA Air Quality Index colors and breaks
defined by <code>breaks &lt;- c(-Inf, 12, 35.5, 55.5, 150.5, 250.5, Inf)</code>.</p>
<p>Using <code>colors = "scaqmd"</code> will use a custom set of colors and breaks
defined by <code>breaks &lt;- c(-Inf, 12, 35, 55, 75, Inf)</code>.</p>
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>Daily averages are calculated using LST (Local Standard Time) day 
boundaries as specified by the US EPA. LST assumes that standard time applies
all year round and guarantees that every day has 24 hours -- no "spring forward"
or "fall back". Because of this, LST daily averages calculated during months
where daylight savings time is in effect will differ very slightly from daily 
averages calculated using local "clock time".</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p><a href='https://aqs.epa.gov/aqsweb/documents/AQS_Data_Dictionary.html'>EPA AQS Data Dictionary</a></p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><a href='https://davidcarslaw.github.io/openair/reference/calendarPlot.html'>https://davidcarslaw.github.io/openair/reference/calendarPlot.html</a></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># \donttest{</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/MazamaScience/AirSensor'>AirSensor</a></span><span class='op'>)</span>

<span class='fu'><a href='setArchiveBaseUrl.html'>setArchiveBaseUrl</a></span><span class='op'>(</span><span class='st'>"http://data.mazamascience.com/PurpleAir/v1"</span><span class='op'>)</span>

<span class='co'># Monthly plot</span>
<span class='va'>sensor</span> <span class='op'>&lt;-</span> 
  <span class='fu'><a href='sensor_loadMonth.html'>sensor_loadMonth</a></span><span class='op'>(</span><span class='st'>"scaqmd"</span>, <span class='fl'>202007</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='sensor_filterMeta.html'>sensor_filterMeta</a></span><span class='op'>(</span><span class='va'>label</span> <span class='op'>==</span> <span class='st'>"SCSC_33"</span><span class='op'>)</span>

<span class='fu'>sensor_calendarPlot</span><span class='op'>(</span><span class='va'>sensor</span><span class='op'>)</span>
</div><div class='img'><img src='sensor_calendarPlot-1.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># Annual plot</span>
<span class='va'>sensor</span> <span class='op'>&lt;-</span> 
  <span class='fu'><a href='sensor_loadYear.html'>sensor_loadYear</a></span><span class='op'>(</span><span class='st'>"scaqmd"</span>, <span class='fl'>2020</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='sensor_filterMeta.html'>sensor_filterMeta</a></span><span class='op'>(</span><span class='va'>label</span> <span class='op'>==</span> <span class='st'>"SCSC_33"</span><span class='op'>)</span>

<span class='fu'>sensor_calendarPlot</span><span class='op'>(</span><span class='va'>sensor</span><span class='op'>)</span>
</div><div class='img'><img src='sensor_calendarPlot-2.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># SCAQMD colors</span>
<span class='fu'>sensor_calendarPlot</span><span class='op'>(</span><span class='va'>sensor</span>, <span class='st'>"scaqmd"</span><span class='op'>)</span>
</div><div class='img'><img src='sensor_calendarPlot-3.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># Custom continuous color palette from RColorBrewer</span>
<span class='fu'>sensor_calendarPlot</span><span class='op'>(</span>
  <span class='va'>sensor</span>,
  colors <span class='op'>=</span> <span class='st'>"BuPu"</span>,
  title <span class='op'>=</span> <span class='st'>"2020 Purple Scale"</span>,
  limits <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/range.html'>range</a></span><span class='op'>(</span><span class='va'>sensor</span><span class='op'>$</span><span class='va'>data</span><span class='op'>[</span>,<span class='op'>-</span><span class='fl'>1</span><span class='op'>]</span>, na.rm <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span> <span class='co'># don't use data$datetime</span>
<span class='op'>)</span>
</div><div class='img'><img src='sensor_calendarPlot-4.png' alt='' width='700' height='433' /></div><div class='input'>

<span class='co'># Custom categorical colors</span>
<span class='fu'>sensor_calendarPlot</span><span class='op'>(</span>
  <span class='va'>sensor</span>,
  colors <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"springgreen2"</span>, <span class='st'>"gold"</span>, <span class='st'>"tomato3"</span><span class='op'>)</span>,
  breaks <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>-</span><span class='cn'>Inf</span>, <span class='fl'>25</span>, <span class='fl'>50</span>, <span class='cn'>Inf</span><span class='op'>)</span>,
  labels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Good"</span>, <span class='st'>"Fair"</span>, <span class='st'>"Poor"</span><span class='op'>)</span>,
  title <span class='op'>=</span> <span class='st'>"2020 -- Air Quality Stoplight"</span>
<span class='op'>)</span>
</div><div class='img'><img src='sensor_calendarPlot-5.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># }</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Jonathan Callahan, Hans Martin, Kayleigh Wilson, Tate Brasel, Helen Miller.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


