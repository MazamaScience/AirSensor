<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Combine PurpleAir raw dataframes — pat_createPATimeseriesObject • AirSensor</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/lumen/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Combine PurpleAir raw dataframes — pat_createPATimeseriesObject" />
<meta property="og:description" content="The pat_downloadParseRawData() function returns four
dataframes of data from ThingSpeak. These must be combined into the single
data dataframe found in a 'pat' object. This process involves selecting
data columns to use and bringing all data onto a unified time axis.
Two sets of data values exist in the raw data, one for each of two algorithms
that convert particle counts into aerosol density.
PurpleAir has the following description:

The CF_ATM and CF_1 values are calculated from the particle count data with a 
proprietary algorithm developed by the PMS5003 laser counter manufacturer, 
PlanTower. The specifics of the calculation are not available to the public 
(or us for that matter). However, to convert the particle count data (um/dl) 
to a mass concentration (ug/m3) they must use an average particle density. 
They do provide 2 different mass concentration conversion options; CF_1 uses 
the &quot;average particle density&quot; for indoor particulate matter and CF_ATM uses 
the &quot;average particle density&quot; for outdoor particulate matter.

By default, the AirSensor package and all associated archive data
use plantowerAlgorithm = CF_ATM. The ability to set
plantowerAlgorithm = CF_1 is intended only for those who wish to do 
a detailed analaysis of the difference between these two algorithms." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">AirSensor</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.8.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/AirSensor_Function_Overview.html">AirSensor Function Overview</a>
    </li>
    <li>
      <a href="../articles/Developer_Style_Guide.html">Developer Style Guide</a>
    </li>
    <li>
      <a href="../articles/articles/Australia_on_fire.html">Australia on Fire</a>
    </li>
    <li>
      <a href="../articles/articles/DataFlowChart.html">Processing PurpleAir Data</a>
    </li>
    <li>
      <a href="../articles/articles/SoH_functions.html">SoH Functions</a>
    </li>
    <li>
      <a href="../articles/articles/outlier_detection.html">Outlier Detection with the Hampel Filter</a>
    </li>
    <li>
      <a href="../articles/articles/pas_introduction.html">PurpleAir Synoptic Data</a>
    </li>
    <li>
      <a href="../articles/articles/pat_introduction.html">PurpleAir TimeSeries Data</a>
    </li>
    <li>
      <a href="../articles/articles/purpleair_failure_modes.html">PurpleAir Failure Modes</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/MazamaScience/AirSensor">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Combine PurpleAir raw dataframes</h1>
    <small class="dont-index">Source: <a href='https://github.com/MazamaScience/AirSensor/blob/master/R/pat_createPATimeseriesObject.R'><code>R/pat_createPATimeseriesObject.R</code></a></small>
    <div class="hidden name"><code>pat_createPATimeseriesObject.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The <code><a href='pat_downloadParseRawData.html'>pat_downloadParseRawData()</a></code> function returns four
dataframes of data from ThingSpeak. These must be combined into the single
<code>data</code> dataframe found in a 'pat' object. This process involves selecting
data columns to use and bringing all data onto a unified time axis.</p>
<p>Two sets of data values exist in the raw data, one for each of two algorithms
that convert particle counts into aerosol density.</p>
<p>PurpleAir has the following description:</p>
<p><em>
The CF_ATM and CF_1 values are calculated from the particle count data with a 
proprietary algorithm developed by the PMS5003 laser counter manufacturer, 
PlanTower. The specifics of the calculation are not available to the public 
(or us for that matter). However, to convert the particle count data (um/dl) 
to a mass concentration (ug/m3) they must use an average particle density. 
They do provide 2 different mass concentration conversion options; CF_1 uses 
the "average particle density" for indoor particulate matter and CF_ATM uses 
the "average particle density" for outdoor particulate matter.
</em></p>
<p>By default, the <span class="pkg">AirSensor</span> package and all associated archive data
use <code>plantowerAlgorithm = CF_ATM</code>. The ability to set
<code>plantowerAlgorithm = CF_1</code> is intended only for those who wish to do 
a detailed analaysis of the difference between these two algorithms.</p>
    </div>

    <pre class="usage"><span class='fu'>pat_createPATimeseriesObject</span>(<span class='kw'>pat_rawList</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>plantowerAlgorithm</span> <span class='kw'>=</span> <span class='st'>"CF_ATM"</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>pat_rawList</th>
      <td><p>List of dataframes as returned by <code><a href='pat_downloadParseRawData.html'>pat_downloadParseRawData()</a></code>.</p></td>
    </tr>
    <tr>
      <th>plantowerAlgorithm</th>
      <td><p>Identifier for which fields to use for PM data.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A PurpleAir Timeseries <em>pat</em> object.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p><a href='https://www2.purpleair.com/community/faq#!hc-what-is-the-difference-between-cf-1-and-cf-atm'>https://www2.purpleair.com/community/faq#!hc-what-is-the-difference-between-cf-1-and-cf-atm</a></p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># \donttest{</span>
<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>AirSensor</span>)

<span class='fu'><a href='setArchiveBaseUrl.html'>setArchiveBaseUrl</a></span>(<span class='st'>"http://data.mazamascience.com/PurpleAir/v1"</span>)

<span class='no'>pas</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='pas_load.html'>pas_load</a></span>()

<span class='no'>pat_rawList</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='pat_downloadParseRawData.html'>pat_downloadParseRawData</a></span>(
  <span class='kw'>id</span> <span class='kw'>=</span> <span class='st'>"78df3c292c8448f7_21257"</span>,
  <span class='kw'>pas</span> <span class='kw'>=</span> <span class='no'>pas</span>
)

<span class='no'>pat</span> <span class='kw'>&lt;-</span> <span class='fu'>pat_createPATimeseriesObject</span>(<span class='no'>pat_rawList</span>)
<span class='co'># }</span></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#references">References</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Jonathan Callahan, Hans Martin, Kayleigh Wilson, Tate Brasel, Helen Miller.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


