<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Pollution rose plot — sensor_pollutionRose • AirSensor</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/lumen/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Pollution rose plot — sensor_pollutionRose" />
<meta property="og:description" content="Plots a traditional wind rose plot for wind direction and PM2.5." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">AirSensor</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.7.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/AirSensor_Function_Overview.html">AirSensor Function Overview</a>
    </li>
    <li>
      <a href="../articles/Developer_Style_Guide.html">Developer Style Guide</a>
    </li>
    <li>
      <a href="../articles/articles/Australia_on_fire.html">Australia on Fire</a>
    </li>
    <li>
      <a href="../articles/articles/DataFlowChart.html">Processing PurpleAir Data</a>
    </li>
    <li>
      <a href="../articles/articles/SoH_functions.html">SoH Functions</a>
    </li>
    <li>
      <a href="../articles/articles/outlier_detection.html">Outlier Detection with the Hampel Filter</a>
    </li>
    <li>
      <a href="../articles/articles/pas_introduction.html">PurpleAir Synoptic Data</a>
    </li>
    <li>
      <a href="../articles/articles/pat_introduction.html">PurpleAir TimeSeries Data</a>
    </li>
    <li>
      <a href="../articles/articles/purpleair_failure_modes.html">PurpleAir Failure Modes</a>
    </li>
    <li>
      <a href="../articles/articles/purpleair_qc.html">Purple Air Quality Control</a>
    </li>
    <li>
      <a href="../articles/articles/purpleair_sensors.html">Purple Air Sensors</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/MazamaScience/AirSensor">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Pollution rose plot</h1>
    <small class="dont-index">Source: <a href='https://github.com/MazamaScience/AirSensor/blob/master/R/sensor_pollutionRose.R'><code>R/sensor_pollutionRose.R</code></a></small>
    <div class="hidden name"><code>sensor_pollutionRose.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Plots a traditional wind rose plot for wind direction and PM2.5.</p>
    </div>

    <pre class="usage"><span class='fu'>sensor_pollutionRose</span>(
  <span class='kw'>sensor</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>windData</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>statistic</span> <span class='kw'>=</span> <span class='st'>"prop.count"</span>,
  <span class='kw'>key</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>keyPosition</span> <span class='kw'>=</span> <span class='st'>"right"</span>,
  <span class='kw'>annotate</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>angle</span> <span class='kw'>=</span> <span class='fl'>30</span>,
  <span class='kw'>angleScale</span> <span class='kw'>=</span> <span class='fl'>315</span>,
  <span class='kw'>gridLine</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>breaks</span> <span class='kw'>=</span> <span class='fl'>6</span>,
  <span class='kw'>paddle</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>seg</span> <span class='kw'>=</span> <span class='fl'>0.9</span>,
  <span class='kw'>normalize</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>sensor</th>
      <td><p>an 'airsensor' object</p></td>
    </tr>
    <tr>
      <th>windData</th>
      <td><p>a dataframe containing columns "date", "ws", and "wd".</p></td>
    </tr>
    <tr>
      <th>statistic</th>
      <td><p>The statistic to be applied to each data bin in the plot. 
Options currently include “prop.count”, “prop.mean” and “abs.count”. 
The default “prop.count” sizes bins according to the proportion of the 
frequency of measurements. Similarly, “prop.mean” sizes bins according to 
their relative contribution to the mean. “abs.count” provides the absolute 
count of measurements in each bin.</p></td>
    </tr>
    <tr>
      <th>key</th>
      <td><p>control of the scale key via drawOpenKey. See drawOpenKey for 
further details.</p></td>
    </tr>
    <tr>
      <th>keyPosition</th>
      <td><p>location where the scale key is to plotted. Allowed 
arguments currently include “top”, “right”, “bottom” and “left”.</p></td>
    </tr>
    <tr>
      <th>annotate</th>
      <td><p>If TRUE then the percentage calm and mean values are printed 
in each panel together with a description of the statistic below the plot. 
If " " then only the stastic is below the plot. Custom annotations may be 
added by setting value to c("annotation 1", "annotation 2").</p></td>
    </tr>
    <tr>
      <th>angle</th>
      <td><p>default angle of “spokes” is 30. Other potentially useful angles
are 45 and 10. Note: the width of the wind speed interval may need adjusting
using width.</p></td>
    </tr>
    <tr>
      <th>angleScale</th>
      <td><p>The wind speed scale is by default shown at a 315 degree 
angle. Sometimes the placement of the scale may interfere with an interesting
feature. The user can therefore set angle.scale to another value (between 0 
and 360 degrees) to mitigate such problems. For example angleScale = 45 will
draw the scale heading in a NE direction.</p></td>
    </tr>
    <tr>
      <th>gridLine</th>
      <td><p>Grid line interval to use. If NULL, as in default, this is 
assigned by based on the available data range. However, it can also 
be forced to a specific value, e.g. gridLine = 10. grid.line can also be a 
list to control the interval, line type and colour. For example 
gridLine = list(value = 10, lty = 5, col = "purple").</p></td>
    </tr>
    <tr>
      <th>breaks</th>
      <td><p>the number of break points for wind speed in pollutant</p></td>
    </tr>
    <tr>
      <th>paddle</th>
      <td><p>Either TRUE (default) or FALSE. If TRUE plots rose using 
‘paddle’ style spokes. If FALSE plots rose using ‘wedge’ style spokes.</p></td>
    </tr>
    <tr>
      <th>seg</th>
      <td><p>determines with width of the segments. For example, seg = 0.5 will
produce segments 0.5 * angle.</p></td>
    </tr>
    <tr>
      <th>normalize</th>
      <td><p>if TRUE each wind direction segment is normalized to equal 
one. This is useful for showing how the concentrations (or other parameters) 
contribute to each wind sector when the proprtion of time the wind is from 
that direction is low. A line showing the probability that the wind.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a plot or a dataframe</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><a href='http://davidcarslaw.github.io/openair/reference/windRose.html'>http://davidcarslaw.github.io/openair/reference/windRose.html</a></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># \donttest{</span>
<span class='co'># Set default location of pre-generated data files</span>
<span class='fu'><a href='setArchiveBaseUrl.html'>setArchiveBaseUrl</a></span>(<span class='st'>"http://data.mazamascience.com/PurpleAir/v1"</span>)

<span class='no'>sensor</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='sensor_load.html'>sensor_load</a></span>(<span class='kw'>startdate</span> <span class='kw'>=</span> <span class='fl'>20190601</span>, <span class='kw'>enddate</span> <span class='kw'>=</span> <span class='fl'>20190630</span>)</div><div class='output co'>#&gt; <span class='error'>Error in sensor_load(startdate = 20190601, enddate = 20190630): No data found in the archive covering the period 2019-06-01 to 2019-06-29 PDT</span></div><div class='input'><span class='no'>sensor</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='sensor_filterMeta.html'>sensor_filterMeta</a></span>(<span class='no'>sensor</span>, <span class='no'>monitorID</span> <span class='kw'>==</span> <span class='st'>"SCSB_02"</span>)</div><div class='output co'>#&gt; <span class='error'>Error in "ws_monitor" %in% class(ws_monitor): object 'sensor' not found</span></div><div class='input'>
<span class='co'># Load wind data from NOAA</span>
<span class='no'>windData</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>worldmet</span><span class='kw ns'>::</span><span class='fu'><a href='https://rdrr.io/pkg/worldmet/man/importNOAA.html'>importNOAA</a></span>(<span class='kw'>code</span> <span class='kw'>=</span> <span class='st'>"722975-53141"</span>, <span class='kw'>year</span> <span class='kw'>=</span> <span class='fl'>2019</span>,
                                 <span class='kw'>parallel</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)
<span class='no'>windData</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>dplyr</span><span class='kw ns'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span>(<span class='no'>windData</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"date"</span>, <span class='st'>"wd"</span>, <span class='st'>"ws"</span>))

<span class='co'># Plot rose using mean binning</span>
<span class='fu'>sensor_pollutionRose</span>(<span class='no'>sensor</span>, <span class='no'>windData</span>, <span class='kw'>statistic</span> <span class='kw'>=</span> <span class='st'>"prop.mean"</span>)</div><div class='output co'>#&gt; <span class='error'>Error in MazamaCoreUtils::stopIfNull(sensor): object 'sensor' not found</span></div><div class='input'># }
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#see-also">See also</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Jonathan Callahan, Hans Martin, Kayleigh Wilson, Tate Brasel, Helen Miller.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


