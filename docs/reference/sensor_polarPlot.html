<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Plot bivariate polar plots with guassian smoothing — sensor_polarPlot • AirSensor</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/lumen/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Plot bivariate polar plots with guassian smoothing — sensor_polarPlot"><meta property="og:description" content="Function for plotting PM2.5 concentration in polar coordinates 
showing concentration by wind speed and direction. This function wraps the
openair polarPlot() function."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">AirSensor</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/AirSensor_Function_Overview.html">AirSensor Function Overview</a>
    </li>
    <li>
      <a href="../articles/Developer_Style_Guide.html">Developer Style Guide</a>
    </li>
    <li>
      <a href="../articles/Creating_Data_Archives.html">Creating Data Archives</a>
    </li>
    <li>
      <a href="../articles/Custom_QC_Algorithms.html">Custom QC Algorithms</a>
    </li>
    <li>
      <a href="../articles/Working_with_PurpleAir_API_Keys.html">Working with PurpleAir API Keys</a>
    </li>
    <li>
      <a href="../articles/outlier_detection.html">Outlier Detection with the Hampel Filter</a>
    </li>
    <li>
      <a href="../articles/pas_introduction.html">PurpleAir Synoptic Data</a>
    </li>
    <li>
      <a href="../articles/pat_introduction.html">PurpleAir Time Series Data</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/MazamaScience/AirSensor/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Plot bivariate polar plots with guassian smoothing</h1>
    <small class="dont-index">Source: <a href="https://github.com/MazamaScience/AirSensor/blob/HEAD/R/sensor_polarPlot.R" class="external-link"><code>R/sensor_polarPlot.R</code></a></small>
    <div class="hidden name"><code>sensor_polarPlot.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Function for plotting PM2.5 concentration in polar coordinates 
showing concentration by wind speed and direction. This function wraps the
<span class="pkg">openair</span> <code>polarPlot()</code> function.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">sensor_polarPlot</span><span class="op">(</span></span>
<span>  sensor <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  windData <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  statistic <span class="op">=</span> <span class="st">"mean"</span>,</span>
<span>  resolution <span class="op">=</span> <span class="st">"fine"</span>,</span>
<span>  colors <span class="op">=</span> <span class="st">"default"</span>,</span>
<span>  alpha <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  angleScale <span class="op">=</span> <span class="fl">315</span>,</span>
<span>  normalize <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  key <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  keyPosition <span class="op">=</span> <span class="st">"right"</span>,</span>
<span>  ws_spread <span class="op">=</span> <span class="fl">15</span>,</span>
<span>  wd_spread <span class="op">=</span> <span class="fl">4</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>sensor</dt>
<dd><p>an 'airsensor' object</p></dd>


<dt>windData</dt>
<dd><p>a dataframe containing columns "date", "ws", and "wd".</p></dd>


<dt>statistic</dt>
<dd><p>The statistic that should be applied to each wind 
speed/direction bin. Because of the smoothing involved, the colour scale for 
some of these statistics is only to provide an indication of overall pattern 
and should not be interpreted in concentration units e.g. for 
statistic = "weighted.mean" where the bin mean is multiplied by the bin 
frequency and divided by the total frequency. In many cases using polarFreq 
will be better. Setting statistic = "weighted.mean" can be useful because it 
provides an indication of the concentration * frequency of occurrence and 
will highlight the wind speed/direction conditions that dominate the overall 
mean. Can be: “mean” (default), “median”, “max” (maximum), “frequency”. 
“stdev” (standard deviation), “weighted.mean”</p></dd>


<dt>resolution</dt>
<dd><p>Two plot resolutions can be set: “normal” and “fine” 
(the default), for a smoother plot. It should be noted that plots with a 
“fine” resolution can take longer to render.</p></dd>


<dt>colors</dt>
<dd><p>Colours to be used for plotting. Options include “default”, 
“increment”, “heat”, “jet” and RColorBrewer colours — see the openair 
openColours function for more details. For user defined the user can supply a
list of color names recognised by R (type colors() to see the full list). 
An example would be color = c("yellow", "green", "blue"). Can also take the 
values "viridis", "magma", "inferno", or "plasma" which are the viridis 
colour maps ported from Python's Matplotlib library.</p></dd>


<dt>alpha</dt>
<dd><p>The alpha transparency to use for the plotting surface (a value 
between 0 and 1 with zero being fully transparent and 1 fully opaque).</p></dd>


<dt>angleScale</dt>
<dd><p>The wind speed scale is by default shown at a 315 degree 
angle. Sometimes the placement of the scale may interfere with an interesting
feature. The user can therefore set angleScale to another value 
(between 0 and 360 degrees) to mitigate such problems. For example 
angle.scale = 45 will draw the scale heading in a NE direction.</p></dd>


<dt>normalize</dt>
<dd><p>If TRUE concentrations are normalised by dividing by their 
mean value. This is done after fitting the smooth surface. This option is 
particularly useful if one is interested in the patterns of concentrations 
of PM2.5.</p></dd>


<dt>key</dt>
<dd><p>Fine control of the scale key via drawOpenKey. See drawOpenKey for
further details.</p></dd>


<dt>keyPosition</dt>
<dd><p>Location where the scale key is to plotted. Allowed 
arguments currently include "top", "right", "bottom" and "left".</p></dd>


<dt>ws_spread</dt>
<dd><p>An integer used for the weighting kernel spread for wind 
speed when correlation or regression techniques are used. Default is 15.</p></dd>


<dt>wd_spread</dt>
<dd><p>An integer used for the weighting kernel spread for wind 
direction when correlation or regression techniques are used. Default is 4.</p></dd>


<dt>verbose</dt>
<dd><p>Logical controlling the generation of progress and error messages.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A plot and an object of class "openair".</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><a href="https://davidcarslaw.github.io/openair/reference/polarPlot.html" class="external-link">https://davidcarslaw.github.io/openair/reference/polarPlot.html</a></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="co"># Fail gracefully if any resources are not available</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="op">{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/MazamaScience/AirSensor" class="external-link">AirSensor</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="setArchiveBaseUrl.html">setArchiveBaseUrl</a></span><span class="op">(</span><span class="st">"https://airsensor.aqmd.gov/PurpleAir/v1"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">pas</span> <span class="op">&lt;-</span> <span class="fu"><a href="pas_load.html">pas_load</a></span><span class="op">(</span>archival <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">pat</span> <span class="op">&lt;-</span> <span class="fu"><a href="pat_loadMonth.html">pat_loadMonth</a></span><span class="op">(</span>label <span class="op">=</span> <span class="st">"SCBB_02"</span>, pas <span class="op">=</span> <span class="va">pas</span>, datestamp <span class="op">=</span> <span class="fl">202005</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sensor</span> <span class="op">&lt;-</span> <span class="fu"><a href="pat_createAirSensor.html">pat_createAirSensor</a></span><span class="op">(</span><span class="va">pat</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Polar plot</span></span></span>
<span class="r-in"><span><span class="fu">sensor_polarPlot</span><span class="op">(</span><span class="va">sensor</span>, resolution <span class="op">=</span> <span class="st">"normal"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">}</span>, silent <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ERROR [2023-04-03 16:31:33] data file could not be loaded from: https://airsensor.aqmd.gov/PurpleAir/v1/pas/2023/pas_20230403_archival.rda</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ERROR [2023-04-03 16:31:33] data file could not be loaded from: https://airsensor.aqmd.gov/PurpleAir/v1/pas/2023/pas_20230402_archival.rda</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ERROR [2023-04-03 16:31:33] data file could not be loaded from: https://airsensor.aqmd.gov/PurpleAir/v1/pas/2023/pas_20230401_archival.rda</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ERROR [2023-04-03 16:31:33] data file could not be loaded from: https://airsensor.aqmd.gov/PurpleAir/v1/pas/2023/pas_20230331_archival.rda</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ERROR [2023-04-03 16:31:33] data file could not be loaded from: https://airsensor.aqmd.gov/PurpleAir/v1/pas/2023/pas_20230330_archival.rda</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ERROR [2023-04-03 16:31:34] data file could not be loaded from: https://airsensor.aqmd.gov/PurpleAir/v1/pas/2023/pas_20230329_archival.rda</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ERROR [2023-04-03 16:31:34] data file could not be loaded from: https://airsensor.aqmd.gov/PurpleAir/v1/pas/2023/pas_20230328_archival.rda</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ERROR [2023-04-03 16:31:34] data file could not be loaded from: https://airsensor.aqmd.gov/PurpleAir/v1/pas/2023/pas_20230327_archival.rda</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ERROR [2023-04-03 16:31:34] data file could not be loaded from: https://airsensor.aqmd.gov/PurpleAir/v1/pas/2023/pas_20230326_archival.rda</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ERROR [2023-04-03 16:31:34] data file could not be loaded from: https://airsensor.aqmd.gov/PurpleAir/v1/pas/2023/pas_20230325_archival.rda</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ERROR [2023-04-03 16:31:34] data file could not be loaded from: https://airsensor.aqmd.gov/PurpleAir/v1/pas/2023/pas_20230324_archival.rda</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ERROR [2023-04-03 16:31:34] data file could not be loaded from: https://airsensor.aqmd.gov/PurpleAir/v1/pas/2023/pas_20230323_archival.rda</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ERROR [2023-04-03 16:31:34] data file could not be loaded from: https://airsensor.aqmd.gov/PurpleAir/v1/pas/2023/pas_20230322_archival.rda</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ERROR [2023-04-03 16:31:34] data file could not be loaded from: https://airsensor.aqmd.gov/PurpleAir/v1/pas/2023/pas_20230321_archival.rda</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ERROR [2023-04-03 16:31:34] data file could not be loaded from: https://airsensor.aqmd.gov/PurpleAir/v1/pas/2023/pas_20230320_archival.rda</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ERROR [2023-04-03 16:31:34] data file could not be loaded from: https://airsensor.aqmd.gov/PurpleAir/v1/pas/2023/pas_20230319_archival.rda</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ERROR [2023-04-03 16:31:35] data file could not be loaded from: https://airsensor.aqmd.gov/PurpleAir/v1/pas/2023/pas_20230318_archival.rda</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ERROR [2023-04-03 16:31:35] data file could not be loaded from: https://airsensor.aqmd.gov/PurpleAir/v1/pas/2023/pas_20230317_archival.rda</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ERROR [2023-04-03 16:31:35] data file could not be loaded from: https://airsensor.aqmd.gov/PurpleAir/v1/pas/2023/pas_20230316_archival.rda</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ERROR [2023-04-03 16:31:35] data file could not be loaded from: https://airsensor.aqmd.gov/PurpleAir/v1/pas/2023/pas_20230315_archival.rda</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ERROR [2023-04-03 16:31:35] data file could not be loaded from: https://airsensor.aqmd.gov/PurpleAir/v1/pas/2023/pas_20230314_archival.rda</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ERROR [2023-04-03 16:31:35] data file could not be loaded from: https://airsensor.aqmd.gov/PurpleAir/v1/pas/2023/pas_20230313_archival.rda</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ERROR [2023-04-03 16:31:35] data file could not be loaded from: https://airsensor.aqmd.gov/PurpleAir/v1/pas/2023/pas_20230312_archival.rda</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ERROR [2023-04-03 16:31:35] data file could not be loaded from: https://airsensor.aqmd.gov/PurpleAir/v1/pas/2023/pas_20230311_archival.rda</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ERROR [2023-04-03 16:31:35] data file could not be loaded from: https://airsensor.aqmd.gov/PurpleAir/v1/pas/2023/pas_20230310_archival.rda</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ERROR [2023-04-03 16:31:35] data file could not be loaded from: https://airsensor.aqmd.gov/PurpleAir/v1/pas/2023/pas_20230309_archival.rda</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ERROR [2023-04-03 16:31:36] data file could not be loaded from: https://airsensor.aqmd.gov/PurpleAir/v1/pas/2023/pas_20230308_archival.rda</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ERROR [2023-04-03 16:31:36] data file could not be loaded from: https://airsensor.aqmd.gov/PurpleAir/v1/pas/2023/pas_20230307_archival.rda</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ERROR [2023-04-03 16:31:36] data file could not be loaded from: https://airsensor.aqmd.gov/PurpleAir/v1/pas/2023/pas_20230306_archival.rda</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ERROR [2023-04-03 16:31:36] data file could not be loaded from: https://airsensor.aqmd.gov/PurpleAir/v1/pas/2023/pas_20230305_archival.rda</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Error : Data file could not be loaded after 30 tries</span>
<span class="r-in"><span><span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Jonathan Callahan, Hans Martin, Kayleigh Wilson, Tate Brasel, Helen Miller.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

